## Migration Scaffolder Improvements

### Fixed false ALTER TABLE statements for custom/array column types

The schema comparison used `information_schema.columns.data_type` which returns generic values (`ARRAY`, `USER-DEFINED`) for array types and custom types (enums, domains). This caused false positives where the scaffolder would generate ALTER TABLE statements for columns that were already correct.

Now uses `udt_name` to resolve the actual type for comparison.

### Fixed schema-qualified table detection

`getExistingTables()` only queried `WHERE table_schema = 'public'`, causing tables in custom schemas (e.g. `logging.logs`) to be treated as new. Now queries all schemas used by the model.

### Fixed unique index detection

`getExistingIndexes()` had `AND NOT ix.indisunique` which excluded all unique indexes from detection, causing them to be regenerated on every scaffold.

### Defensive/idempotent migration SQL generation

All generated migration SQL is now idempotent and safe to re-run:

| Operation | SQL Pattern |
|-----------|-------------|
| CREATE TABLE | `CREATE TABLE IF NOT EXISTS` with PK columns only, then `ADD COLUMN IF NOT EXISTS` per column |
| ADD COLUMN | `ADD COLUMN IF NOT EXISTS` |
| DROP COLUMN | `DROP COLUMN IF EXISTS` |
| CREATE INDEX | `DROP INDEX IF EXISTS` + `CREATE INDEX` |
| CREATE FK | `DROP CONSTRAINT IF EXISTS` + `ADD CONSTRAINT` |
| DROP FK / DROP INDEX | `IF EXISTS` |
| CREATE ENUM | `DO $$ BEGIN ... EXCEPTION WHEN duplicate_object THEN NULL; END $$` |

### Files Changed

- `src/migration/db-schema-manager.ts` - Added `udt_name` to introspection, `resolveDbType()` / `udtToSqlType()` helpers, fixed `getExistingTables()` schema support, fixed `getExistingIndexes()` unique index filter
- `src/migration/migration-scaffold.ts` - Defensive SQL generation for all operation types, `generateUpSql()`/`generateDownSql()` return `string[]`
